(function(){"use strict";var t=this,e=t.jQuery;"undefined"==typeof GOVUK&&(t.GOVUK={});var s=function(t,s){this.$elms=t,this.selectedClass="selected",this.focusedClass="focused",void 0!==s&&e.each(s,function(t,e){this[t]=e}.bind(this)),this.setEventNames(),this.getSelections(),this.bindEvents()};s.prototype.setEventNames=function(){this.selectionEvents="click",this.focusEvents="focus blur"},s.prototype.markFocused=function(t,e){t.attr("id");"focused"===e?t.parent("label").addClass(this.focusedClass):t.parent("label").removeClass(this.focusedClass)},s.prototype.bindEvents=function(){var t=this.markSelected.bind(this),s=this.markFocused.bind(this);this.$elms.on(this.selectionEvents,function(s){t(e(s.target))}).on(this.focusEvents,function(t){var n="focus"===t.type?"focused":"blurred";s(e(t.target),n)})};var n=function(){s.apply(this,arguments)};n.prototype.setEventNames=function(){this.selectionEvents="click change",this.focusEvents="focus blur"},n.prototype.getSelections=function(){var t=this.markSelected.bind(this);this.selections={},e.each(this.$elms,function(s,n){var i=e(n),o=i.attr("name");"undefined"==typeof this.selections[o]&&(this.selections[o]=!1),i.is(":checked")&&t(i)}.bind(this))},n.prototype.bindEvents=function(){s.prototype.bindEvents.call(this)},n.prototype.markSelected=function(t){var e=t.attr("name"),s=this.selections[e];s&&s.parent("label").removeClass(this.selectedClass),t.parent("label").addClass(this.selectedClass),this.selections[e]=t},n.prototype.markFocused=function(){s.prototype.markFocused.apply(this,arguments)};var i=function(){s.apply(this,arguments)};i.prototype.setEventNames=function(){s.prototype.setEventNames.call(this)},i.prototype.getSelections=function(){var t=this.markSelected.bind(this);this.$elms.each(function(s,n){var i=e(n);i.is(":checked")&&t(i)})},i.prototype.bindEvents=function(){s.prototype.bindEvents.call(this)},i.prototype.markSelected=function(t){t.is(":checked")?t.parent("label").addClass(this.selectedClass):t.parent("label").removeClass(this.selectedClass)},i.prototype.markFocused=function(){s.prototype.markFocused.apply(this,arguments)},t.GOVUK.RadioButtons=n,t.GOVUK.CheckboxButtons=i;var o=function(t,e){var s=t.filter("[type=radio]"),n=t.filter("[type=checkbox]");s&&new GOVUK.RadioButtons(s,e),n&&new GOVUK.CheckboxButtons(n,e)};t.GOVUK.selectionButtons=o}).call(this);