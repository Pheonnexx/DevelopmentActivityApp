describe("primary-links",function(){var e,i,t;beforeEach(function(){e=$('<ul><li class="primary">one</li><li>two</li></ul>'),i=$('<ul><li class="primary">one</li><li>two</li><li>three</li></ul>'),t=$('<ul><li class="primary">one</li><li class="primary">two</li><li>three</li><li>four</li></ul>')}),it("visually hides extra links",function(){new GOVUK.PrimaryList(i,".primary");expect(i.find(".visuallyhidden").length).toBe(2)}),it("creates appropriate toggle text",function(){var t=new GOVUK.PrimaryList(e,".primary"),l=new GOVUK.PrimaryList(i,".primary");expect(t.toggleText()).toEqual("+1 other"),expect(l.toggleText()).toEqual("+2 others")}),it("add a toggle link",function(){{var e=$("<div>").append(i);new GOVUK.PrimaryList(i,".primary")}expect(e.find("a").length).toBe(1)}),it("show extra links when toggled",function(){var e=new GOVUK.PrimaryList(i,".primary"),t={preventDefault:function(){}};spyOn(t,"preventDefault"),spyOn(e,"showExtraLinks"),e.toggleLinks(t),expect(t.preventDefault).toHaveBeenCalled(),expect(e.showExtraLinks).toHaveBeenCalled()}),it("only adds toggle if more than one extra link",function(){new GOVUK.PrimaryList(e,".primary"),new GOVUK.PrimaryList(i,".primary");expect(e.find(".visuallyhidden").length).toBe(0),expect(i.find(".visuallyhidden").length).toBe(2)})});